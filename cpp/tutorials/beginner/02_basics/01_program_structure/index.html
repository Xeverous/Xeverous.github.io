<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!-- Enable responsiveness on mobile devices--><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>modern C++ by Xeverous - 01 - program structure</title>
<link rel="icon" href="favicon.png">
<!-- RSS --><link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../../atom.xml">
<!-- CSS --><link rel="stylesheet" href="../../../../../assets/css/styles.css">
<!-- JS --><script type="text/javascript" src="../../../../../assets/js/app.js" defer></script><!-- maybe later
	<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']]
    },
    showMathMenu: false,
    menuSettings: {
      zoom: "None",
      collapsible: false,
      autocollapse: false,
      explorer: false
    }
  });
        </script>
	<script type="text/javascript" async
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"
		async></script>
	-->
</head>
<body>
	<div class="layout">
 <nav class="sidebar"><ul>
<li class="sidebar-section">
			<ul>
<li><a href="../../../../../">HOME</a></li>
				<li><a href="../../../../../index/">INDEX</a></li>
			</ul>
</li>

			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ tutorials</h4>
				<p class="sidebar-section-description">Learn C++ from begin() to the end() (and beyond) or use knowledge and experience gained in other languages in the accelerated tutorial.</p>

				<ul>
<li><a href="../../">beginner</a></li>
						<li><a href="../../../accelerated/">accelerated</a></li>
						<li><a href="../../../templates/">templates</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ how-to</h4>
				<p class="sidebar-section-description">Common and specific tasks explained.</p>

				<ul>
<li><a href="../../../../stdlib/">standard library components</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ utilities</h4>
				<p class="sidebar-section-description">Various metarials with concentrated information.</p>

				<ul>
<li><a href="../../../../utility/cheatsheets/">C++ cheatsheets</a></li>
						<li><a href="../../../../utility/cpp_faq/">C++ FAQ</a></li>
						<li><a href="../../../../utility/cpp_myths/">C++ myths</a></li>
						<li><a href="../../../../utility/glossary/">glossary</a></li>
						<li><a href="../../../../utility/">(all articles)</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">misc / meta</h4>
				<p class="sidebar-section-description">About this website and its authors.</p>

				<ul>
<li><a href="../../../../../about/">about</a></li>
						<li><a href="../../../../../meta/site_faq/">website FAQ</a></li>
						<li><a href="../../../../../meta/markdown_test/">Markdown test page</a></li>
						<li><a href="../../../../../meta/rest_test/">reStructuredText test page</a></li>
				</ul>
</li>
	</ul></nav><nav class="topbar"><ul class="menu">
<li class="button"><a href="../../../../../">HOME</a></li>
				<li class="button"><a href="../../../../../index/">INDEX</a></li>
				<li class="button"><a href="../../../../../faq/">FAQ</a></li>
				<li class="button"><a href="../../../../../about/">ABOUT</a></li>
				<li class="button menu-button">
					<div class="menu-icon">
						<div class="bar1"></div>
						<div class="bar2"></div>
						<div class="bar3"></div>
					</div>
				</li>
			</ul></nav><div class="main container">
				<nav class="breadcrumb"><ol>
<li><a href="../../../../../index/">index</a></li>
						<span>/</span>
							<li><a href="../../../../">C++</a></li>
							<span>/</span>
							<li><a href="../../../">tutorials</a></li>
							<span>/</span>
							<li><a href="../../">beginner</a></li>
							<span>/</span>
							<li><a href="../">02 - basics</a></li>
							<span>/</span>
						<li>01 - program structure</li>
					</ol></nav><div class="content">
				<h1>01 - program structure</h1>				<p>This lesson is aimed at briefly explaining how a C++ program is constructed. A lot of mechanisms mentioned in this lesson will be explained in-depth in later chapters. <strong>You don't need to understand everything here.</strong> It's more of a framework to understand what you need to know.</p>
<section id="hello-world"><h2>Hello world</h2>
<p>"Hello world" is a minimal program for the given programming language that can be successfully run and its result can be observed. This generally causes hello world programs to contain a single <em>print</em> statement and any other code necessary to start and finish the program.</p>
<p>By <em>print</em> I mean any form of observable output. Generally it's going to be text displayed in the shell in which the program is run.</p>
<!-- TODO when to explain shells and program return value execution? -->
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span> <span class="com-single">// include directive</span>

<span class="keyword">int</span> <span class="func">main</span>() <span class="com-single">// function name + extra info</span>
{ <span class="com-single">// function body begins here</span>
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"hello, world<span class="esc-seq">\n</span>"</span>; <span class="com-single">// the print statement</span>
	<span class="keyword">return</span> <span class="lit-num">0</span>; <span class="com-single">// return statement</span>
} <span class="com-single">// function body ends here</span>
</pre></td>
</tr></tbody></table>
<p>A C++ program can consist of multiple grammatical constructs so let's go one by one.</p>
<p>The first line is a <em>preprocessor include directive</em>. Generally, any line beginning with <code class="code custom-cpp"><span class="pp-hash">#</span></code> will be for a special mechanism called <em>preprocessor</em>. Preprocessor isn't for writing instructions to execute, it's more of a mechanism to inform the compiler what is required to run the code that follows. In this case the code is informing the preprocessor to <em>include</em> input/output stream library - it will be needed to perform the print statement.</p>
<p>The first line also contains a comment. Comments are text which is ignored by the compiler. Throughout the tutorial, you will encounter lots of comments in the code.</p>
<p>The second line is empty. Whitespace (that is, invisible characters such as spaces, tabs, newlines) are ignored by the compiler (unless within quotes). They are only used to separate code so whether it's 1 or multiple whitespace characters doesn't matter.</p>
<p>Next is the function name plus some extra information (here: just the keyword <code class="code custom-cpp"><span class="keyword">int</span></code> which specifies that the function returns an integer). This extra information shouldn't be a concern for now. The significant part is that function names are followed by <code class="docutils literal">()</code> to indicate they are actually functions.</p>
<aside class="admonition definition"><p class="admonition-title">definition</p>
<p>A runnable C++ program must contain exactly 1 global function named <code class="docutils literal">main</code>.</p>
</aside><p>Next, there is the function body. Statements are put inside <code class="docutils literal">{}</code> and by the convention, code inside <code class="docutils literal">{}</code> is indented. The function body can consist of arbitrary number of statements (including even 0) and they are executed one by one, top to bottom. Each statement ends with <code class="docutils literal">;</code> which is analogical to <code class="docutils literal">.</code> in human languages.</p>
<p>In the hello world program we have 2 statements:</p>
<ul class="simple">
<li><p>The first one performs the print operation. Quoted text is sent to the <strong>st</strong>andar<strong>d</strong> <strong>c</strong>haracter <strong>out</strong>put. The syntax used here is a bit different but don't worry - it will be explained soon.</p></li>
<li><p>The second one specifies the result of the function (that is, what function <em>returns</em>). Throughout the tutorial, you will use a lot of functions and their results. In the special case of main function, its result is sent back to the operating system where the value <code class="code custom-cpp"><span class="lit-num">0</span></code> indicates successful execution.</p></li>
</ul>
<aside class="admonition tip"><p class="admonition-title">tip</p>
<p>Main function can have its return statement omitted. If it's not present and code reaches end of the function, the behavior is as if it had <code class="code custom-cpp"><span class="keyword">return</span> <span class="lit-num">0</span>;</code>.</p>
</aside><!--  --><blockquote>
<p>Couldn't the program just contain the include directive and the print statement? Why a function is needed?</p>
</blockquote>
<p>In some programming languages, such thing is actually possible but C++ places special rules on code outside any functions and for historical reasons the program begins execution at the main function. With programs consisting of multiple files containing the source code, this approach is also easier to reason about - there is no need to think what is the order of code between files. We only need to know that the execution starts in the main function, and then this function can call other functions, potentially written in different files.</p>
</section><section id="printing-values"><h2>Printing values</h2>
<p>Standard character output (<code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cout</span></code>) accepts many kinds of data. Expressions of different types are separated by <code class="docutils literal">&lt;&lt;</code>. <code class="code custom-cpp"><span class="esc-seq">\n</span></code> is a special control character that denotes new line (AKA line break or line feed character).</p>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func">main</span>()
{
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">1</span>;    <span class="com-single">// an object of type int (integer)</span>
	<span class="keyword">char</span> <span class="var-local">c</span> = <span class="lit-chr">'a'</span>; <span class="com-single">// an object of type char (character)</span>
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"x = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">x</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"<span class="esc-seq">\n</span>"</span>;
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"c = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">c</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"<span class="esc-seq">\n</span>"</span>;
}
</pre></td>
</tr></tbody></table>
<p>Since the first expression in the next statement is also text, the 2 statements can be combined into 1:</p>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func">main</span>()
{
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">1</span>;
	<span class="keyword">int</span> <span class="var-local">c</span> = <span class="lit-chr">'a'</span>;
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"x = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">x</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"<span class="esc-seq">\n</span>c = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">c</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"<span class="esc-seq">\n</span>"</span>;
}
</pre></td>
</tr></tbody></table>
<p>Sometimes you might also see <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">endl</span></code> (end-line) used instead of new line character:</p>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func">main</span>()
{
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">1</span>;
	<span class="keyword">int</span> <span class="var-local">c</span> = <span class="lit-chr">'a'</span>;
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"x = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">x</span> <span class="oo">&lt;&lt;</span> <span class="namespace">std</span>::<span class="var-global">endl</span>;
	<span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"c = "</span> <span class="oo">&lt;&lt;</span> <span class="var-local">c</span> <span class="oo">&lt;&lt;</span> <span class="namespace">std</span>::<span class="var-global">endl</span>;
}
</pre></td>
</tr></tbody></table>
<p>The output of this code is the same, however <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">endl</span></code> is not just a new line character. It does something more, something which shouldn't really be done explicitly - it flushes the buffer. Outputting any data to the operating system is a task which requires some extra work (very often system-specific). Buffering the output, while not necessary is very often done for performance reasons. C++ standard streams accumulate data as it is passed in and only output it in bulk when needed. The reason for this is that regardless of data size, communication with operating system is an expensive (in computation and/or time) operation so it should be avoided when possible.</p>
<p>C++ standard streams automatically flush the buffer when necessary, so you shouldn't really be concerned with what is happening underneath. Using <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">endl</span></code> forces it to flush the buffer more than necessary, which generally only slows down the whole program. If you see examples online which use <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">endl</span></code>, you can simply rewrite them to use new line character.</p>
<p>For now, this should be enough to let you print values of different objects. In later lessons, you will learn about standard input (<code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cin</span></code>) and how to create first user-interactive programs that read text.</p>
<p>Watch out for these syntax problems:</p>
<ul class="simple">
<li><p>double operator: <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="problem">&lt;&lt;</span> <span class="lit-str">"text"</span>;</code></p></li>
<li><p>unwanted semicolon: <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"text"</span><span class="problem">;</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"text"</span>;</code></p></li>
<li><p>operator with no operand: <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cout</span> <span class="oo">&lt;&lt;</span> <span class="lit-str">"text"</span> <span class="problem">&lt;&lt;</span>;</code></p></li>
<li><p>wrong operator: <code class="code custom-cpp"><span class="namespace">std</span>::<span class="var-global">cout</span> <span class="problem">&gt;&gt;</span> <span class="lit-str">"text"</span>;</code></p></li>
</ul></section><section id="exercise"><h2>Exercise</h2>
<ul class="simple">
<li><p>Edit the hello world program, e.g. change the printed message.</p></li>
<li><p>Introduce random syntax errors to the hello world program (e.g. missing <code class="docutils literal">;</code> or <code class="docutils literal">&lt;&lt;</code>) and observe compiler errors.</p></li>
<li><p>Try removing include directive. Observe errors when program is built.</p></li>
<li><p>Try removing the unnecessary return statement.</p></li>
</ul></section>
</div>
 		<footer class="footer"><div class="footer-item footer-item-container">
				<div class="footer-flex-item">
					<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
						<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
					<br>
					All non-code content licensed under <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, unless stated otherwise.
				</div>
				<div class="footer-flex-item">
					All code content (monospaced font) licensed under <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Zero License</a>, unless stated otherwise.
				</div>
			</div>
			<div class="footer-item footer-item-container">
				<div class="footer-flex-item">
					Generated using heavily customized <a href="https://getnikola.com">Nikola</a> static site generator.
				</div>
				<div class="footer-flex-item">
					<a href="https://github.com/Xeverous/the_website">website repository and issue tracker</a>
				</div>
			</div>
		</footer>
</div>
	</div>
</body>
</html>
