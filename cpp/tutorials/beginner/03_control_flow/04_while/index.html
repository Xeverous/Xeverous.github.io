<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!-- Enable responsiveness on mobile devices--><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>modern C++ by Xeverous - 04 - while</title>
<link rel="icon" href="favicon.png">
<!-- RSS --><link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../../atom.xml">
<!-- CSS --><link rel="stylesheet" href="../../../../../assets/css/styles.css">
<!-- JS --><script type="text/javascript" src="../../../../../assets/js/app.js" defer></script><!-- maybe later
	<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']]
    },
    showMathMenu: false,
    menuSettings: {
      zoom: "None",
      collapsible: false,
      autocollapse: false,
      explorer: false
    }
  });
        </script>
	<script type="text/javascript" async
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"
		async></script>
	-->
</head>
<body>
	<div class="layout">
 <nav class="sidebar"><ul>
<li class="sidebar-section">
			<ul>
<li><a href="../../../../../">HOME</a></li>
				<li><a href="../../../../../index/">INDEX</a></li>
			</ul>
</li>

			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ tutorials</h4>
				<p class="sidebar-section-description">Learn C++ from begin() to the end() (and beyond) or use knowledge and experience gained in other languages in the accelerated tutorial.</p>

				<ul>
<li><a href="../../">beginner</a></li>
						<li><a href="../../../accelerated/">accelerated</a></li>
						<li><a href="../../../templates/">templates</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ how-to</h4>
				<p class="sidebar-section-description">Common and specific tasks explained.</p>

				<ul>
<li><a href="../../../../stdlib/">standard library components</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">C++ utilities</h4>
				<p class="sidebar-section-description">Various metarials with concentrated information.</p>

				<ul>
<li><a href="../../../../utility/cheatsheets/">C++ cheatsheets</a></li>
						<li><a href="../../../../utility/cpp_faq/">C++ FAQ</a></li>
						<li><a href="../../../../utility/cpp_myths/">C++ myths</a></li>
						<li><a href="../../../../utility/glossary/">glossary</a></li>
						<li><a href="../../../../utility/">(all articles)</a></li>
				</ul>
</li>
			<li class="sidebar-section">
				<h4 class="sidebar-section-title">misc / meta</h4>
				<p class="sidebar-section-description">About this website and its authors.</p>

				<ul>
<li><a href="../../../../../about/">about</a></li>
						<li><a href="../../../../../meta/site_faq/">website FAQ</a></li>
						<li><a href="../../../../../meta/markdown_test/">Markdown test page</a></li>
						<li><a href="../../../../../meta/rest_test/">reStructuredText test page</a></li>
				</ul>
</li>
	</ul></nav><nav class="topbar"><ul class="menu">
<li class="button"><a href="../../../../../">HOME</a></li>
				<li class="button"><a href="../../../../../index/">INDEX</a></li>
				<li class="button"><a href="../../../../../faq/">FAQ</a></li>
				<li class="button"><a href="../../../../../about/">ABOUT</a></li>
				<li class="button menu-button">
					<div class="menu-icon">
						<div class="bar1"></div>
						<div class="bar2"></div>
						<div class="bar3"></div>
					</div>
				</li>
			</ul></nav><div class="main container">
				<nav class="breadcrumb"><ol>
<li><a href="../../../../../index/">index</a></li>
						<span>/</span>
							<li><a href="../../../../">C++</a></li>
							<span>/</span>
							<li><a href="../../../">tutorials</a></li>
							<span>/</span>
							<li><a href="../../">beginner</a></li>
							<span>/</span>
							<li><a href="../">03 - control flow</a></li>
							<span>/</span>
						<li>04 - while</li>
					</ol></nav><div class="content">
				<h1>04 - while</h1>				<p>The second most used type of control flow instructions are loops.</p>
<aside class="admonition definition"><p class="admonition-title">definition</p>
<p>A loop is a repetitive execution of one (or more) statements as long as certain condition is satisfied.</p>
</aside><section id="while-loop"><h2>While loop</h2>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func-free">main</span>()
{
	<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"Enter a number: "</span>;
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">0</span>;
	<span class="namespace">std</span>::<span class="var-global">cin</span> &gt;&gt; <span class="var-local">x</span>;

	<span class="keyword">if</span> (<span class="var-local">x</span> == <span class="lit-num">0</span>)
	{
		<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"You entered zero.<span class="esc-seq">\n</span>"</span>;
	}
	<span class="keyword">else</span>
	{
		<span class="keyword">while</span> (<span class="var-local">x</span> % <span class="lit-num">2</span> == <span class="lit-num">0</span>)
		{
			<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"dividing "</span> &lt;&lt; <span class="var-local">x</span> &lt;&lt; <span class="lit-str">"<span class="esc-seq">\n</span>"</span>;
			<span class="var-local">x</span> /= <span class="lit-num">2</span>; <span class="com-single">// equivalent to x = x / 2
</span>		}

		<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"The final, odd value is "</span> &lt;&lt; <span class="var-local">x</span> &lt;&lt; <span class="lit-str">".<span class="esc-seq">\n</span>"</span>;
	}
}
</pre></td>
</tr></tbody></table>
<p>Before each iteration, the condition is evaluated. If it's <code class="code custom-cpp"><span class="keyword">false</span></code> the loop ends and execution continues after the loop's body. In worst case (when first condition evaluation returns <code class="code custom-cpp"><span class="keyword">false</span></code>) the loop never runs.</p>
<p>As with <code class="code custom-cpp"><span class="keyword">if</span></code>, if there is only a single statement braces can be skipped.</p>
<p>Test this program with big, even numbers like 1024 and any odd number.</p>
<blockquote>
<p>What happens when the condition is always <code class="code custom-cpp"><span class="keyword">true</span></code>?</p>
</blockquote>
<p>Well, then the loop never stops. Such programs (from user's perspective) will freeze and become unresponsive. It's programmer's responsibility to ensure that any loop always stops at some point.</p>
</section><section id="do-while-loop"><h2>Do-while loop</h2>
<p>An alternative loop is formed using <code class="code custom-cpp"><span class="keyword">do</span></code> and <code class="code custom-cpp"><span class="keyword">while</span></code> keywords. The only difference is that the condition is checked <strong>after</strong> the loop body, which means that it's guaranteed to execute at least once.</p>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func-free">main</span>()
{
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">0</span>;
	<span class="keyword">do</span>
	{
		<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"Enter a non-negative number: "</span>;
		<span class="namespace">std</span>::<span class="var-global">cin</span> &gt;&gt; <span class="var-local">x</span>;
	} <span class="keyword">while</span> (<span class="var-local">x</span> &lt; <span class="lit-num">0</span>);
	<span class="com-single">//             ^ spot the semicolon
</span>}
</pre></td>
</tr></tbody></table>
<aside class="admonition note"><p class="admonition-title">note</p>
<p>Do-while loop ends with a semicolon (<code class="docutils literal">;</code>).</p>
</aside></section><section id="breaking-a-loop"><h2>Breaking a loop</h2>
<p>It's possible to <code class="code custom-cpp"><span class="keyword">break</span></code> a loop, exiting it prematurely. The following program is equivalent to the previous one:</p>
<table class="codetable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></div></td>
<td class="code"><pre class="code custom-cpp"><span class="pp-hash">#</span><span class="pp-directive">include</span> <span class="pp-header">&lt;iostream&gt;</span>

<span class="keyword">int</span> <span class="func-free">main</span>()
{
	<span class="keyword">int</span> <span class="var-local">x</span> = <span class="lit-num">0</span>;
	<span class="keyword">while</span> (<span class="keyword">true</span>)
	{
		<span class="namespace">std</span>::<span class="var-global">cout</span> &lt;&lt; <span class="lit-str">"Enter a non-negative number: "</span>;
		<span class="namespace">std</span>::<span class="var-global">cin</span> &gt;&gt; <span class="var-local">x</span>;

		<span class="keyword">if</span> (<span class="var-local">x</span> &gt;= <span class="lit-num">0</span>)
			<span class="keyword">break</span>;
	}
}
</pre></td>
</tr></tbody></table>
<p>Many would say this version has better code as do-while loops are known for their low readability. If you can, try to refactor do-while loops to other loops.</p>
</section><section id="advancing-a-loop"><h2>Advancing a loop</h2>
<p>TODO describe continue</p>
</section><section id="recommendation"><h2>Recommendation</h2>
<p>In practice, do-while loops are rarely used. In almost all situations the condition needs to be checked before execution.</p>
</section><section id="exercise"><h2>Exercise</h2>
<!-- TODO guessing game when? It requires random numbers. -->
<p>Write a program that checks <a class="reference external" href="https://en.wikipedia.org/wiki/Collatz_conjecture">Collatz Conjecture</a> (AKA the 3n + 1 problem):</p>
<ul class="simple">
<li><p>input a positive number</p></li>
<li>
<p>while the number is not 1:</p>
<ul>
<li><p>if it's even, divide it by 2</p></li>
<li><p>if it's odd, multiply it by 3 and add 1</p></li>
<li><p>print new value</p></li>
</ul>
</li>
</ul>
<p>For all positive numbers, the program should eventually terminate at 1 (otherwise it loops 1, 4, 2, 1, 4, 2, ...). At least that's what the conjecture states - <strong>it's still an unsolved problem in mathematics</strong>.</p>
<p>Example sequences to test:</p>
<ul class="simple">
<li><p>for 7: 22, 11, 34, 17, 52, 26, 13, 40, 20, 10, 5, 16, 8, 4, 2, 1</p></li>
<li><p>for 15: 46, 23, 70, 35, 106, 53, 160, 80, 40, 20, 10, 5, 16, 8, 4, 2, 1</p></li>
</ul>
<p>Don't input too large numbers though - the data types being used (<code class="code custom-cpp"><span class="keyword">int</span></code>, <code class="code custom-cpp"><span class="keyword">long</span></code>, <code class="code custom-cpp"><span class="keyword">long</span> <span class="keyword">long</span></code>) have finite range. Too large numbers will invoke <em>undefined behavior</em>, typically by performing <em>overflow</em>.</p>
<p>Even though huge numbers have been tested, no proof or pattern has been found that would guarantee that every number reaches 1. If negative numbers are allowed, there are 3 extra known loops:</p>
<ul class="simple">
<li><p>-1, -2, -1</p></li>
<li><p>-5, -14, -7, -20, -10, -5</p></li>
<li><p>-17, -50, -25, -74, -37, -110, -55, -164, -82, -41, -122, -61, -182, -91, -272, -136, -68, -34, -17</p></li>
</ul>
<p>If you want to learn more about this problem - watch <a class="reference external" href="https://www.youtube.com/results?search_query=numberphile+collatz+conjecture">Numberphile's videos about it</a>.</p>
</section>
</div>
 		<footer class="footer"><div class="footer-item footer-item-container">
				<div class="footer-flex-item">
					<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
						<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
					<br>
					All non-code content licensed under <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, unless stated otherwise.
				</div>
				<div class="footer-flex-item">
					All code content (monospaced font) licensed under <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Zero License</a>, unless stated otherwise.
				</div>
			</div>
			<div class="footer-item footer-item-container">
				<div class="footer-flex-item">
					Generated using heavily customized <a href="https://getnikola.com">Nikola</a> static site generator.
				</div>
				<div class="footer-flex-item">
					<a href="https://github.com/Xeverous/the_website">website repository and issue tracker</a>
				</div>
			</div>
		</footer>
</div>
	</div>
</body>
</html>
